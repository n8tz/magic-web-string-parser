/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./lib/.___layerPackIndexUtils.js":
/*!****************************************!*\
  !*** ./lib/.___layerPackIndexUtils.js ***!
  \****************************************/
/***/ ((module) => {

/*
 * Copyright 2021 BRAUN Nathanael
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 */
module.exports = {
  /**
   * Walk & set executables from globs requires
   * @param _target
   * @param path
   * @param value
   */
  walknSetExport: function walknSetExport(_target, path, value) {
    var fPath = path.split('/'),
      target = _target,
      i,
      module;
    i = 0;
    while (i < fPath.length - 1) target = target[fPath[i]] = target[fPath[i]] || {}, i++;
    module = Object.keys(value).length === 1 && value["default"] || value;
    if (!target[fPath[i]]) {
      target[fPath[i]] = module;
    } else if (!target[fPath[i]].__esModule) {
      // if this is simple path obj write over
      Object.assign(module, target[fPath[i]]);
      target[fPath[i]] = module;
    } else {
      // when we are in hot reload this may delete some sub modules... @todo
      target[fPath[i]] = module;
    }
  }
};

/***/ }),

/***/ "./lib/MapOf.Lib_codecs_____js.gen.js":
/*!********************************************!*\
  !*** ./lib/MapOf.Lib_codecs_____js.gen.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Base64: () => (/* binding */ Base64),
/* harmony export */   HttpRequest: () => (/* binding */ HttpRequest),
/* harmony export */   Json: () => (/* binding */ Json),
/* harmony export */   KeyValue: () => (/* binding */ KeyValue),
/* harmony export */   MultiLines: () => (/* binding */ MultiLines),
/* harmony export */   Qs: () => (/* binding */ Qs),
/* harmony export */   Url: () => (/* binding */ Url),
/* harmony export */   UrlEncoded: () => (/* binding */ UrlEncoded),
/* harmony export */   UrlPath: () => (/* binding */ UrlPath),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* This is a virtual file generated by layer-pack */
var req,
  _exports = {},
  walknSetExport = (__webpack_require__(/*! Lib/.___layerPackIndexUtils */ "./lib/.___layerPackIndexUtils.js").walknSetExport);
var _Lib_codecs_Qs_js = __webpack_require__(/*! Lib/codecs/Qs.js */ "./lib/codecs/Qs.js");
walknSetExport(_exports, "Qs", _Lib_codecs_Qs_js);
var _Lib_codecs_Url_js = __webpack_require__(/*! Lib/codecs/Url.js */ "./lib/codecs/Url.js");
walknSetExport(_exports, "Url", _Lib_codecs_Url_js);
var _Lib_codecs_Json_js = __webpack_require__(/*! Lib/codecs/Json.js */ "./lib/codecs/Json.js");
walknSetExport(_exports, "Json", _Lib_codecs_Json_js);
var _Lib_codecs_Base64_js = __webpack_require__(/*! Lib/codecs/Base64.js */ "./lib/codecs/Base64.js");
walknSetExport(_exports, "Base64", _Lib_codecs_Base64_js);
var _Lib_codecs_UrlPath_js = __webpack_require__(/*! Lib/codecs/UrlPath.js */ "./lib/codecs/UrlPath.js");
walknSetExport(_exports, "UrlPath", _Lib_codecs_UrlPath_js);
var _Lib_codecs_KeyValue_js = __webpack_require__(/*! Lib/codecs/KeyValue.js */ "./lib/codecs/KeyValue.js");
walknSetExport(_exports, "KeyValue", _Lib_codecs_KeyValue_js);
var _Lib_codecs_MultiLines_js = __webpack_require__(/*! Lib/codecs/MultiLines.js */ "./lib/codecs/MultiLines.js");
walknSetExport(_exports, "MultiLines", _Lib_codecs_MultiLines_js);
var _Lib_codecs_UrlEncoded_js = __webpack_require__(/*! Lib/codecs/UrlEncoded.js */ "./lib/codecs/UrlEncoded.js");
walknSetExport(_exports, "UrlEncoded", _Lib_codecs_UrlEncoded_js);
var _Lib_codecs_HttpRequest_js = __webpack_require__(/*! Lib/codecs/HttpRequest.js */ "./lib/codecs/HttpRequest.js");
walknSetExport(_exports, "HttpRequest", _Lib_codecs_HttpRequest_js);
var Base64 = _exports.Base64;
var HttpRequest = _exports.HttpRequest;
var Json = _exports.Json;
var KeyValue = _exports.KeyValue;
var MultiLines = _exports.MultiLines;
var Qs = _exports.Qs;
var Url = _exports.Url;
var UrlEncoded = _exports.UrlEncoded;
var UrlPath = _exports.UrlPath;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_exports);

/***/ }),

/***/ "./lib/codecs/Base64.js":
/*!******************************!*\
  !*** ./lib/codecs/Base64.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   parse: () => (/* binding */ parse),
/* harmony export */   priority: () => (/* binding */ priority),
/* harmony export */   stringify: () => (/* binding */ stringify)
/* harmony export */ });
/* harmony import */ var base64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! base64-js */ "?dc2a");
/* harmony import */ var base64_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(base64_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var is__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! is */ "?316c");
/* harmony import */ var is__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(is__WEBPACK_IMPORTED_MODULE_1__);


var decoder = new TextDecoder('UTF-8'),
  encoder = new TextEncoder('UTF-8');
var typeTest = /^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,
  b64Header = /^(data\:(([^;,]+\/[^;,]+\;)?(base64)?\,)?)(([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?)$/i;
var priority = 20;
function stringify(data, options, stringifyAny) {
  if (data.type === "Base64") {
    return (data.dataHeader || "") + base64_js__WEBPACK_IMPORTED_MODULE_0___default().fromByteArray(encoder.encode(stringifyAny(data.childs[0], options)));
  }
}
function parse(_ref, options, codecs, parseAny) {
  var data = _ref.data,
    notBase64 = _ref.notBase64;
  if (notBase64 || !is__WEBPACK_IMPORTED_MODULE_1___default().string(data)) return;
  var output = {
      type: "Base64",
      childs: [],
      data: data,
      length: data.length
    },
    header = data.match(b64Header);
  if (header !== null && header !== void 0 && header[1]) {
    data = header[5];
    output.dataHeader = header[1];
  }
  if (!typeTest.test(data) || !output.dataHeader && data.length < 12) return;
  try {
    var parsed = base64_js__WEBPACK_IMPORTED_MODULE_0___default().toByteArray(data),
      testRecoded = base64_js__WEBPACK_IMPORTED_MODULE_0___default().fromByteArray(encoder.encode(decoder.decode(parsed)));
    if (testRecoded !== data) return false;
    output.childs.push({
      notBase64: true,
      data: decoder.decode(parsed)
    });
  } catch (e) {
    return false;
  }
  return output;
}

/***/ }),

/***/ "./lib/codecs/HttpRequest.js":
/*!***********************************!*\
  !*** ./lib/codecs/HttpRequest.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   parse: () => (/* binding */ parse),
/* harmony export */   priority: () => (/* binding */ priority),
/* harmony export */   stringify: () => (/* binding */ stringify),
/* harmony export */   weight: () => (/* binding */ weight)
/* harmony export */ });
/* harmony import */ var is__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! is */ "?316c");
/* harmony import */ var is__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(is__WEBPACK_IMPORTED_MODULE_0__);
function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }
function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }
function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }
function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }
function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }

var httpMethods = ["PRI", "ACL", "BASELINE-CONTROL", "BIND", "CHECKIN", "CHECKOUT", "CONNECT", "COPY", "DELETE", "GET", "HEAD", "LABEL", "LINK", "LOCK", "MERGE", "MKACTIVITY", "MKCALENDAR", "MKCOL", "MKREDIRECTREF", "MKWORKSPACE", "MOVE", "OPTIONS", "ORDERPATCH", "PATCH", "POST", "PRI", "PROPFIND", "PROPPATCH", "PUT", "REBIND", "REPORT", "SEARCH", "TRACE", "UNBIND", "UNCHECKOUT", "UNLINK", "UNLOCK", "UPDATE", "UPDATEREDIRECTREF", "VERSION-CONTROL"],
  httpRequestFormat = new RegExp("^(?<method>" + httpMethods.join("|") + ")\\s+(?<path>[^\\s]+)\\s+(?<version>http\\/[\\d\\.]+)\\n" + "(?<headers>(([^\\:\\n]+\\:[^\\n]*)[\\n])*)" + "[\\n]+" +
  //"[\\n]" +
  "(?<body>(.*\\s*)*)$", "im");
var priority = 10;
var weight = 100;
function stringify(data, options, stringifyAny) {
  var obj = {
      __proto__: null
    },
    newRawValue;
  if (data.type === "HttpRequest") {
    var childs = _toConsumableArray(data.childs),
      body = data.withBody && childs.pop(),
      headers = childs.pop(),
      head = childs.pop(),
      bodyContent = body && stringify(body, options, stringifyAny),
      headersFiltered = headers.childs.filter(function (obj) {
        return !/^content-length$/i.test(obj.key);
      });
    if (data.newValue) return data.newValue;
    obj = head.childs.map(function (obj) {
      return stringify(obj, options, stringifyAny);
    }).join(" ") + "\r\n";
    if (headersFiltered.length) obj += headersFiltered.map(function (obj) {
      return obj.key + ": " + stringifyAny(obj.childs[0], options);
    }).join("\r\n") + "\r\n";
    if (bodyContent) obj += "Content-Length: " + (bodyContent.length + 2) + "\r\n\r\n" + bodyContent + "\r\n\r\n";else obj += "\r\n";
  } else if (/^Http(Method|Path|Version)$/.test(data.type)) {
    obj = data.childs.map(function (obj) {
      return stringify(obj, options, stringifyAny);
    }).join(" ");
  } else if (data.type === "HttpRequestBody") {
    if (data.newValue) return data.newValue + "\r\n";
    obj = stringifyAny(data.childs[0], options) + "\r\n";
  } else obj = stringifyAny(data, options);
  return obj;
}
function parse(_ref, options, codecs, parseAny) {
  var data = _ref.data;
  var output = {
    type: "HttpRequest",
    childs: []
  };
  try {
    var parsed;
    if (is__WEBPACK_IMPORTED_MODULE_0___default().string(data)) {
      data = data.replace(/\r\n/ig, "\n");
      if (httpRequestFormat.test(data)) {
        parsed = data.match(httpRequestFormat);
        if (!parsed) {
          //console.log('parse::parse:105: ', data);
          return;
        }
        parsed = parsed.groups;
        output.data = data;
      }
    } else {
      return false;
    }
    if (!parsed) return;
    //console.log('parse::parse:117: ', parsed.headers.split(/[\n\r]/)
    //                                        .filter(line => !/^\s*$/.test(line)));
    output.childs.push({
      type: "HttpRequestHead",
      data: data.split(/[\n]/)[0],
      childs: [{
        type: "HttpMethod",
        __humanKey: "Method",
        //data: parsed.method,
        childs: [{
          data: parsed.method
        }]
      }, {
        type: "HttpPath",
        //data  : parsed.path,
        childs: [{
          data: parsed.path
        }]
      }, {
        type: "HttpVersion",
        __humanKey: "HttpVersion",
        //data: parsed.version,
        childs: [{
          data: parsed.version
        }]
      }]
    }, {
      type: "HttpHeaders",
      __humanKey: "Headers",
      data: parsed.headers,
      childs: parsed.headers.split(/[\n\r]/).filter(function (line) {
        return !/^\s*$/.test(line);
      }).map(function (line) {
        var mLine = line.split(":"),
          key = mLine.shift().trim(),
          value = mLine.join(":").trim();
        return {
          type: "Prop",
          key: key,
          //data  : line,
          childs: [{
            baseType: /^cookie$/i.test(key) ? "KeyValue" : undefined,
            //__humanKey: /^cookie$/i.test(key) ? "Cookies" : undefined,
            data: value
          }]
        };
      })
    });
    if (parsed.body.trim()) {
      output.withBody = true;
      output.childs.push({
        type: "HttpRequestBody",
        __humanKey: "Body",
        data: parsed.body,
        childs: [{
          data: parsed.body.replace(/\n$/, "")
        }]
      });
    }
    return output;
  } catch (e) {
    return false;
  }
}

/***/ }),

/***/ "./lib/codecs/Json.js":
/*!****************************!*\
  !*** ./lib/codecs/Json.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   parse: () => (/* binding */ parse),
/* harmony export */   priority: () => (/* binding */ priority),
/* harmony export */   stringify: () => (/* binding */ stringify),
/* harmony export */   weight: () => (/* binding */ weight)
/* harmony export */ });
/* harmony import */ var is__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! is */ "?316c");
/* harmony import */ var is__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(is__WEBPACK_IMPORTED_MODULE_0__);

var objProto = {}.__proto__;
var priority = 15;
var weight = 100;
function stringify(data, options, stringifyAny) {
  var obj = {
      __proto__: null
    },
    newRawValue;
  if (data.newRawValue) {
    try {
      newRawValue = data.newRawValue ? JSON.parse(data.newRawValue) : false;
    } catch (e) {
      console.log('stringify::Json', "raw value parse error", data.newRawValue);
    }
  }
  if (data.type === "Json") {
    obj = data.newValue || JSON.stringify(newRawValue !== undefined ? newRawValue : stringify(data.childs[0], options, stringifyAny));
  } else if (data.type === (data.prefix || "") + "ArrayItem") {
    obj = newRawValue || data.newValue || stringify(data.childs[0], options, stringifyAny);
  } else if (data.type === (data.prefix || "") + "Array") {
    obj = [];
    if (data.newValue) obj = data.newValue;else if (newRawValue) obj = newRawValue;else data.childs.forEach(function (node, i) {
      return obj[i] = stringify(node.childs[0], options, stringifyAny);
    });
    //obj = newRawValue || data.childs.map(
    //	obj => (stringify(obj, options, stringifyAny))
    //)
  } else if (data.type === "Prop") {
    var _data$childs$;
    //if ( data.childs[0].newRawValue ) {
    try {
      newRawValue = data.childs[0].newRawValue ? JSON.parse(data.childs[0].newRawValue) : false;
    } catch (e) {
      console.log('stringify::Json', "raw value parse error", data.childs[0].newRawValue);
    }
    //}
    obj = newRawValue || ((_data$childs$ = data.childs[0]) === null || _data$childs$ === void 0 ? void 0 : _data$childs$.newValue) || stringify(data.childs[0], options, stringifyAny);
  } else if (data.type === (data.prefix || "") + "Object") {
    obj = {};
    if (data.newValue) obj = data.newValue;else if (newRawValue) obj = newRawValue;else data.childs.forEach(function (node) {
      var rawValue;
      try {
        rawValue = node.childs[0].newRawValue ? JSON.parse(node.childs[0].newRawValue) : false;
      } catch (e) {
        console.log('stringify::Json', "raw value parse error", node.childs[0].newRawValue);
      }
      obj[node.key] = rawValue || stringify(node.childs[0], options, stringifyAny);
    });
  } else obj = newRawValue || stringifyAny(data, options);
  return obj;
}
function parse(_ref, options, codecs, parseAny) {
  var data = _ref.data,
    _ref$prefix = _ref.prefix,
    prefix = _ref$prefix === void 0 ? "Json" : _ref$prefix,
    isRecursive = _ref.isRecursive;
  var output = {
    type: prefix,
    childs: []
  };
  try {
    var parsed;
    if (Array.isArray(data)) parsed = data;else if (data.__proto__ === objProto) parsed = data;else if (is__WEBPACK_IMPORTED_MODULE_0___default().string(data)) {
      parsed = JSON.parse(data);
      isRecursive = false;
      output.data = data;
    } else {
      return false;
    }
    //console.log('parse::parse:83: ', parsed);
    if (Array.isArray(parsed)) {
      output.childs.push({
        type: prefix + "Array",
        prefix: prefix,
        weight: 5,
        data: !is__WEBPACK_IMPORTED_MODULE_0___default().string(data) ? JSON.stringify(data) : data,
        childs: parsed.map(function (value) {
          return {
            type: prefix + "ArrayItem",
            weight: 5,
            childs: [!is__WEBPACK_IMPORTED_MODULE_0___default().string(value) ? parse({
              prefix: prefix,
              data: value,
              isRecursive: true
            }, options, codecs, parseAny) || {
              data: value
            } : {
              data: value
            }]
          };
        })
      });
    } else if (parsed.__proto__ === objProto) {
      output.childs.push({
        type: prefix + "Object",
        prefix: prefix,
        weight: 5,
        data: !is__WEBPACK_IMPORTED_MODULE_0___default().string(data) ? JSON.stringify(data) : data,
        childs: Object.keys(parsed).map(function (key) {
          return {
            type: "Prop",
            key: key,
            childs: [!is__WEBPACK_IMPORTED_MODULE_0___default().string(parsed[key]) ? parse({
              prefix: prefix,
              data: parsed[key],
              isRecursive: true
            }, options, codecs, parseAny) || {
              data: parsed[key]
            } : {
              data: parsed[key]
            }]
          };
        })
      });
    } else {
      return false;
    }
    return isRecursive ? output.childs[0] : output;
  } catch (e) {
    return false;
  }
}

/***/ }),

/***/ "./lib/codecs/KeyValue.js":
/*!********************************!*\
  !*** ./lib/codecs/KeyValue.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   parse: () => (/* binding */ parse),
/* harmony export */   priority: () => (/* binding */ priority),
/* harmony export */   stringify: () => (/* binding */ stringify)
/* harmony export */ });
/* harmony import */ var is__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! is */ "?316c");
/* harmony import */ var is__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(is__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! qs */ "?6242");
/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(qs__WEBPACK_IMPORTED_MODULE_1__);


var typeTest = /^([\w\d\-_\[\]\.]+\s*\=\s*[^\s\;\&]*)(\s*;\s*[\w\d\-_\[\]\.]+\s*\=\s*[^\s\&\;]*)*$/i;
var priority = 11;
function stringify(data, options, stringifyAny) {
  if (data.type === "KeyValue") {
    var obj = stringifyAny(data.childs[0], options, "Json");
    return (data.prefix || "") + qs__WEBPACK_IMPORTED_MODULE_1___default().stringify(obj, {
      delimiter: '; '
    });
  }
  return "";
}
function parse(_ref, options, codecs, parseAny) {
  var data = _ref.data;
  var output = {
    type: "KeyValue",
    childs: []
  };
  if (!is__WEBPACK_IMPORTED_MODULE_0___default().string(data) || !typeTest.test(data) || /[\n\r]/ig.test(data)) return false;
  try {
    data = data.replace(/;\s/ig, ";");
    var parsed = qs__WEBPACK_IMPORTED_MODULE_1___default().parse(data, {
      allowPrototypes: true,
      delimiter: ';'
    });
    if (!Object.values(parsed).join("") && Object.values(parsed).length < 2) return;
    output.childs.push(codecs.Json.parse({
      data: parsed,
      prefix: "KeyValue",
      weight: 2,
      isRecursive: true
    }, options, codecs, parseAny));
    return output;
  } catch (e) {
    return false;
  }
}

/***/ }),

/***/ "./lib/codecs/MultiLines.js":
/*!**********************************!*\
  !*** ./lib/codecs/MultiLines.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   parse: () => (/* binding */ parse),
/* harmony export */   priority: () => (/* binding */ priority),
/* harmony export */   stringify: () => (/* binding */ stringify)
/* harmony export */ });
/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! qs */ "?6242");
/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(qs__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var is__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! is */ "?316c");
/* harmony import */ var is__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(is__WEBPACK_IMPORTED_MODULE_1__);
function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }
function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }
function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }
function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }
function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }


var priority = 0;
function stringify(data, options, stringifyAny) {
  var obj,
    nodes = data.childs,
    params;
  if (data.type === "MultiLines") {
    obj = data.newValue || nodes.map(function (node) {
      return stringify(node, options, stringifyAny);
    }).join(data.csrf ? "\r\n" : "\n");
  } else if (data.type === "Line") {
    obj = data.newValue || nodes.map(function (node) {
      return stringifyAny(node, options);
    }).join("");
  }
  return obj;
}
function parse(_ref, options, codecs, parseAny) {
  var data = _ref.data;
  var output = {
    type: "MultiLines",
    childs: []
  };
  if (!is__WEBPACK_IMPORTED_MODULE_1___default().string(data)) return;
  output.csrf = data.includes("\r\n");
  try {
    var _output$childs;
    var parsed = data.replace(/\r\n/ig, "\n").split(/[\n]/);
    if (parsed.length <= 1) {
      return;
    }
    (_output$childs = output.childs).push.apply(_output$childs, _toConsumableArray(parsed.map(function (item) {
      return {
        type: "Line",
        childs: [{
          data: item
        }]
      };
    })));
  } catch (e) {
    return false;
  }
  return output;
}

/***/ }),

/***/ "./lib/codecs/Qs.js":
/*!**************************!*\
  !*** ./lib/codecs/Qs.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   parse: () => (/* binding */ parse),
/* harmony export */   priority: () => (/* binding */ priority),
/* harmony export */   stringify: () => (/* binding */ stringify),
/* harmony export */   variations: () => (/* binding */ variations),
/* harmony export */   weight: () => (/* binding */ weight)
/* harmony export */ });
/* harmony import */ var is__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! is */ "?316c");
/* harmony import */ var is__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(is__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! qs */ "?6242");
/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(qs__WEBPACK_IMPORTED_MODULE_1__);


var typeTests = {
  "&": /^\??[^\s=\/\\\;\,\&]+(\=[^\s\=\&]*)?(\&[^\s=\/\\\;\,\&]+(\=[^\s=\&]*)?)*$/i,
  "$": /^\$?[^\s=\/\\\;\,\$]+(\=[^\s\=\$]*)?(\$[^\s=\/\\\;\,\$]+(\=[^\s=\$]*)?)*$/i,
  "|": /^\|?[^\s=\/\\\;\,\|]+(\=[^\s\=\|]*)?(\|[^\s=\/\\\;\,\|]+(\=[^\s=\|]*)?)*$/i
};
var priority = 14;
var variations = ['&', '$', '|'];
var weight = 10;
function stringify(data, options, stringifyAny) {
  if (data.type === "Qs") {
    var obj = stringifyAny(data.childs[0], options, "Json");
    return (data.prefix || "") + qs__WEBPACK_IMPORTED_MODULE_1___default().stringify(obj, {
      encodeValuesOnly: true,
      delimiter: data.separator,
      allowDots: data.allowDots
    });
  }
  return "";
}
function parse(_ref, options, codecs, parseAny) {
  var data = _ref.data,
    variation = _ref.variation;
  var output = {
      type: "Qs",
      childs: []
    },
    separator;
  if (is__WEBPACK_IMPORTED_MODULE_0___default().string(data) && typeTests[variation].test(data))
    // should mk some global heuristic
    {
      output.separator = separator = variation;
    }
  if (!is__WEBPACK_IMPORTED_MODULE_0___default().string(data) || !separator || /[\n\r]/ig.test(data)) {
    return false;
  }
  if (data.startsWith('?')) {
    output.prefix = "?";
    data = data.substr(1);
  }
  if (data.startsWith(separator)) {
    output.prefix = separator;
    data = data.substr(1);
  }
  try {
    var parsed = qs__WEBPACK_IMPORTED_MODULE_1___default().parse(data, {
      allowPrototypes: true,
      delimiter: separator
    });
    if (Object.values(parsed).join("") === "")
      // if no values consider is false pos
      return false;
    if (Object.keys(parsed).filter(function (key) {
      return key.includes('.');
    }).length)
      // if dot use dot
      {
        output.allowDots = true;
        parsed = qs__WEBPACK_IMPORTED_MODULE_1___default().parse(data, {
          allowPrototypes: true,
          delimiter: separator,
          allowDots: true
        });
      }
    output.childs.push(codecs.Json.parse({
      data: parsed,
      prefix: "Qs",
      isRecursive: true
    }, options, codecs, parseAny));
    return output;
  } catch (e) {
    //console.log('parse::parse:39: ', e);
    return false;
  }
}

/***/ }),

/***/ "./lib/codecs/Url.js":
/*!***************************!*\
  !*** ./lib/codecs/Url.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   parse: () => (/* binding */ parse),
/* harmony export */   priority: () => (/* binding */ priority),
/* harmony export */   stringify: () => (/* binding */ stringify),
/* harmony export */   weight: () => (/* binding */ weight)
/* harmony export */ });
/* harmony import */ var is__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! is */ "?316c");
/* harmony import */ var is__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(is__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! qs */ "?6242");
/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(qs__WEBPACK_IMPORTED_MODULE_1__);
function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }
function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }
function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }
function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }
function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }


var urlParts = ["host", "username", "password", "port", "protocol"];
var priority = 12;
var weight = 50;
function stringify(data, options, stringifyAny) {
  if (data.type === "Url") {
    var obj = new URL("http://dummy.com");
    urlParts.forEach(function (part, i) {
      return obj[part] = stringifyAny(data.childs[i].childs[0], options);
    });
    obj = obj + "";
    return obj.substring(0, obj.length - 1) + stringifyAny(data.childs[urlParts.length], options);
  }
  return "";
}
function parse(_ref, options, codecs, parseAny) {
  var data = _ref.data;
  var output = {
    type: "Url",
    childs: []
  };
  if (!is__WEBPACK_IMPORTED_MODULE_0___default().string(data) || /[\n\r]/ig.test(data)) return false;
  try {
    var _output$childs;
    var parsed = new URL(data);
    if (!parsed.host) return;
    (_output$childs = output.childs).push.apply(_output$childs, _toConsumableArray(urlParts.map(function (part) {
      return {
        type: "Url" + part[0].toUpperCase() + part.substring(1),
        childs: [{
          data: parsed[part]
        }]
      };
    })).concat([{
      data: parsed.pathname + (parsed.search || "") + (parsed.hash || "")
    }]));
    return output;
  } catch (e) {
    return false;
  }
}

/***/ }),

/***/ "./lib/codecs/UrlEncoded.js":
/*!**********************************!*\
  !*** ./lib/codecs/UrlEncoded.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   parse: () => (/* binding */ parse),
/* harmony export */   priority: () => (/* binding */ priority),
/* harmony export */   stringify: () => (/* binding */ stringify),
/* harmony export */   weight: () => (/* binding */ weight)
/* harmony export */ });
/* harmony import */ var is__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! is */ "?316c");
/* harmony import */ var is__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(is__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! qs */ "?6242");
/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(qs__WEBPACK_IMPORTED_MODULE_1__);


var notTypeTest = /[^\=\&\\\/\[\]]/ig,
  typeTest = /\%[\w\d][\w\d]/ig;
var priority = -20;
var weight = 0;
function stringify(data, options, stringifyAny) {
  var obj;
  if (data.type === "UrlEncoded") {
    if (data.newValue) obj = qs__WEBPACK_IMPORTED_MODULE_1___default().stringify({
      value: data.newValue
    }).split("value=")[1];else obj = qs__WEBPACK_IMPORTED_MODULE_1___default().stringify({
      value: stringifyAny(data.childs[0], options)
    }).split("value=")[1];
  }
  return obj;
}
function parse(_ref, options, codecs, parseAny) {
  var data = _ref.data,
    notBase64 = _ref.notBase64;
  if (!is__WEBPACK_IMPORTED_MODULE_0___default().string(data)) return;
  var output = {
    type: "UrlEncoded",
    childs: [],
    data: data,
    length: data.length
  };
  if (notTypeTest.test(data) || !typeTest.test(data)) return;
  try {
    var parsed = decodeURIComponent(data);
    output.childs.push({
      data: parsed
    });
  } catch (e) {
    return false;
  }
  return output;
}

/***/ }),

/***/ "./lib/codecs/UrlPath.js":
/*!*******************************!*\
  !*** ./lib/codecs/UrlPath.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   parse: () => (/* binding */ parse),
/* harmony export */   priority: () => (/* binding */ priority),
/* harmony export */   stringify: () => (/* binding */ stringify),
/* harmony export */   weight: () => (/* binding */ weight)
/* harmony export */ });
/* harmony import */ var is__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! is */ "?316c");
/* harmony import */ var is__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(is__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! qs */ "?6242");
/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(qs__WEBPACK_IMPORTED_MODULE_1__);


var priority = 8;
var weight = 20;
function stringify(data, options, stringifyAny) {
  var obj,
    nodes = data.childs,
    params;
  if (data.type === "UrlPath") {
    //if ( data.withQueryParam ) {
    //	params = nodes[1];
    //}
    obj = nodes.map(function (node) {
      return stringify(node, options, stringifyAny);
    }).join("");
    //stringify(nodes[0], options, stringifyAny)
    //+ (params ? "?" + stringifyAny(params, options) : "")
  } else if (data.type === "PathQuery") {
    if (data.newValue) obj = "?" + qs__WEBPACK_IMPORTED_MODULE_1___default().stringify({
      value: data.newValue
    }).split("value=")[1];else obj = "?" + stringifyAny(nodes[0], options);
  } else if (data.type === "PathHash") {
    if (data.newValue) obj = "#" + qs__WEBPACK_IMPORTED_MODULE_1___default().stringify({
      value: data.newValue
    }).split("value=")[1];else obj = "#" + stringifyAny(nodes[0], options);
  } else if (data.type === "Path") {
    if (data.newValue) obj = data.newValue;else obj = data.prefix + nodes.map(function (node) {
      return stringify(node, options, stringifyAny);
    }).join("/");
  } else if (data.type === "PathItem") {
    if (data.newValue) obj = qs__WEBPACK_IMPORTED_MODULE_1___default().stringify({
      value: data.newValue
    }).split("value=")[1];else if (data.newRawValue) obj = data.newRawValue;else obj = qs__WEBPACK_IMPORTED_MODULE_1___default().stringify({
      value: data.newValue || stringifyAny(nodes[0], options)
    }).split("value=")[1];
  }
  return obj;
}
function parse(_ref, options, codecs, parseAny) {
  var data = _ref.data;
  var output = {
      type: "UrlPath",
      childs: []
    },
    pathParams,
    pathHash,
    seemsToHaveAFileName,
    seemsToHaveMultipleDirectory,
    seemsToHaveIllegalCharacters;
  if (!is__WEBPACK_IMPORTED_MODULE_0___default().string(data) || !data || /[\n\r]/ig.test(data)) return;
  pathHash = data.split("#");
  data = pathHash.shift();
  pathHash = pathHash.join("#");
  output.withHashParam = !!pathHash;
  pathParams = data.split("?");
  data = pathParams.shift();
  pathParams = pathParams.join("?");
  output.withQueryParam = !!pathParams;
  seemsToHaveAFileName = /[^\/\.]+\.[^\/\.]{2,5}$/i.test(data);
  seemsToHaveIllegalCharacters = /[\s\{\=\*]/i.test(data);
  seemsToHaveMultipleDirectory = data.split('/').length > 2;
  //console.log('parse::parse:75: ', data, seemsToHaveAFileName, seemsToHaveMultipleDirectory,
  // seemsToHaveIllegalCharacters);
  if (!(data[0] === "/" || data.startsWith("./")) && !(seemsToHaveAFileName || seemsToHaveMultipleDirectory) || seemsToHaveIllegalCharacters) return;
  if (seemsToHaveIllegalCharacters && !(seemsToHaveAFileName && seemsToHaveMultipleDirectory)) return;
  if (seemsToHaveAFileName && data.split('/').length < 2) return;
  try {
    var parsed = data.split("/");
    //
    if (data[0] === "/") parsed.shift();
    if (parsed.length) output.childs.push({
      type: "Path",
      data: data,
      prefix: data[0] === "/" ? "/" : "",
      childs: parsed.map(function (item) {
        return {
          type: "PathItem",
          data: item,
          childs: [{
            data: qs__WEBPACK_IMPORTED_MODULE_1___default().parse("value=" + item).value
          }]
        };
      })
    });
    if (pathParams) output.childs.push({
      type: "PathQuery",
      data: pathParams,
      childs: [{
        data: pathParams
      }]
    });
    if (pathHash) output.childs.push({
      type: "PathHash",
      data: pathHash,
      childs: [{
        data: pathHash
      }]
    });
  } catch (e) {
    return false;
  }
  return output;
}

/***/ }),

/***/ "?dc2a":
/*!****************************!*\
  !*** external "base64-js" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("base64-js");

/***/ }),

/***/ "?ada3":
/*!**************************!*\
  !*** external "hash.js" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("hash.js");

/***/ }),

/***/ "?316c":
/*!*********************!*\
  !*** external "is" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("is");

/***/ }),

/***/ "?b529":
/*!********************************!*\
  !*** external "jsonpath-plus" ***!
  \********************************/
/***/ ((module) => {

"use strict";
module.exports = require("jsonpath-plus");

/***/ }),

/***/ "?6242":
/*!*********************!*\
  !*** external "qs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("qs");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
/*!**********************!*\
  !*** ./lib/index.js ***!
  \**********************/
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   parse: () => (/* binding */ parse),
/* harmony export */   parsers: () => (/* binding */ parsers),
/* harmony export */   stringify: () => (/* binding */ _stringify)
/* harmony export */ });
/* harmony import */ var _codecs_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./codecs/(*).js */ "./lib/MapOf.Lib_codecs_____js.gen.js");
/* harmony import */ var hash_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! hash.js */ "?ada3");
/* harmony import */ var hash_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(hash_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var jsonpath_plus__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jsonpath-plus */ "?b529");
/* harmony import */ var jsonpath_plus__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jsonpath_plus__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var is__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! is */ "?316c");
/* harmony import */ var is__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(is__WEBPACK_IMPORTED_MODULE_3__);
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : String(i); }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it["return"] != null) it["return"](); } finally { if (didErr) throw err; } } }; }
function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }
function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }
function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }
function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }
function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }




var nativeTypes = ["String", "Number", "Boolean", "Null", "undefined"];
var api = {
  get: function get(path) {
    var nodes = (0,jsonpath_plus__WEBPACK_IMPORTED_MODULE_2__.JSONPath)({
        path: path,
        json: this.jsonPathRoot
      }),
      selected = [];
    nodes.forEach(function (node) {
      node = Array.isArray(node) ? node[0] : node;
      selected.push(node);
    });
    return selected;
  },
  set: function set(path, value, enumerate, raw) {
    var _this = this;
    var nodes = (0,jsonpath_plus__WEBPACK_IMPORTED_MODULE_2__.JSONPath)({
        path: path,
        json: this.jsonPathRoot
      }),
      selected = [],
      output = [],
      error;
    nodes.forEach(function (node) {
      var _node;
      node = Array.isArray(node) ? node[0] : node;
      if ((_node = node) !== null && _node !== void 0 && _node.__path) {
        selected.push(_this.nodesByPath[node.__path]);
      }
    });
    selected.forEach(function (node) {
      var oKey;
      if (node !== null && node !== void 0 && node.key) {
        oKey = node.key;
        try {
          node.key = is__WEBPACK_IMPORTED_MODULE_3___default()["function"](value) ? value(node.key, node.__path) : value;
        } catch (e) {
          throw new Error("Set Fn fail on key : " + node.key + "\n" + e);
        }
      } else {
        try {
          if (raw) node.newRawValue = is__WEBPACK_IMPORTED_MODULE_3___default()["function"](value) ? value(node.data, node.__path) : value;else node.newValue = is__WEBPACK_IMPORTED_MODULE_3___default()["function"](value) ? value(node.data, node.__path) : value;
        } catch (e) {
          throw new Error("Set Fn fail on data : " + node.data + "\n" + e);
        }
      }
      if (enumerate && !(node.newRawValue === undefined && node.newValue === undefined && !oKey)) {
        output.push(_stringify(_this));
        if (node !== null && node !== void 0 && node.key) node.key = oKey;else {
          delete node.newValue;
          delete node.newRawValue;
        }
      }
    });
    return enumerate ? output : _stringify(this);
  },
  stringify: function stringify(options) {
    return _stringify(this, options);
  },
  toString: function toString() {
    return this.stringify();
  },
  printStats: function printStats() {
    var output = "",
      cNode,
      types = Object.keys(this.nodesByType);
    for (var _i = 0, _types = types; _i < _types.length; _i++) {
      var type = _types[_i];
      output += type + Array(Math.max(20 - type.length, 2)).join(" ") + ": " + this.nodesByType[type].length + " items\n";
    }
    return output;
  },
  getVars: function getVars() {
    var output = [],
      cNode,
      stack = [this.root];
    while (stack.length) {
      cNode = stack.shift();
      if (cNode.isPropValueOf) {
        output.push({
          humanPath: cNode.__humanPath,
          jsonPath: cNode.__path,
          key: cNode.isPropValueOf,
          value: cNode.newRawValue || JSON.stringify(cNode.newValue || cNode.data)
        });
      }
      cNode.childs && stack.unshift.apply(stack, _toConsumableArray(cNode.childs));
    }
    return output;
  },
  printVars: function printVars(withPath) {
    var output = [""],
      cNode,
      stack = [this.root];
    while (stack.length) {
      cNode = stack.shift();
      if (cNode.isPropValueOf) {
        if (withPath) output.push(cNode.__humanPath + Array(Math.max(30 - cNode.__humanPath.length, 2)).join(" ") + "= " + (cNode.newRawValue || JSON.stringify(cNode.newValue || cNode.data)) + " ( " + cNode.__path + " )");else output.push(cNode.isPropValueOf + Array(Math.max(20 - cNode.isPropValueOf.length, 2)).join(" ") + "= " + (cNode.newRawValue || JSON.stringify(cNode.newValue || cNode.data)));
      }
      cNode.childs && stack.unshift.apply(stack, _toConsumableArray(cNode.childs));
    }
    return output.join("\n");
  },
  printVarTree: function printVarTree() {
    var output = "",
      cNode,
      stack = [this.root],
      val;
    while (stack.length) {
      cNode = stack.shift();
      if (!cNode.isPropValueOf) output += cNode.__path.split(".").map(function (p) {
        return " ";
      }).join("") + cNode.pathKey + (cNode.variation ? " ( " + cNode.variation + " ) " : "") + (cNode.key ? " " + cNode.key + " = " : "") + "\n";else output += cNode.__path.split(".").map(function (p) {
        return " ";
      }).join("") + cNode.pathKey + " ( " + cNode.type + " ) " + "\n";
      if (cNode.data !== undefined || cNode.newValue !== undefined || cNode.newRawValue !== undefined) output += cNode.__path.split(".").map(function (p) {
        return " ";
      }).join("") + " - " + (cNode.newRawValue !== undefined ? cNode.newRawValue : JSON.stringify(cNode.newValue !== undefined ? cNode.newValue : cNode.data)) + "\n";
      cNode.childs && stack.unshift.apply(stack, _toConsumableArray(cNode.childs));
    }
    output += "\n" + this.structureHash + "\n";
    return output;
  }
};
var parsers = _codecs_js__WEBPACK_IMPORTED_MODULE_0__["default"];
function parse(data, options, context) {
  var codecList = Object.keys(_codecs_js__WEBPACK_IMPORTED_MODULE_0__["default"]).sort(function (a, b) {
      return _codecs_js__WEBPACK_IMPORTED_MODULE_0__["default"][b].priority - _codecs_js__WEBPACK_IMPORTED_MODULE_0__["default"][a].priority;
    }),
    root = {
      baseType: context === null || context === void 0 ? void 0 : context.baseType,
      data: data,
      childs: [],
      variation: context === null || context === void 0 ? void 0 : context.variation
    },
    jsonPathRoot = {
      __path: "$",
      __humanPath: "/"
    },
    output = {
      __proto__: api,
      root: root,
      jsonPathRoot: jsonPathRoot,
      nodesByPath: {},
      nodesByType: {},
      totalNodes: 0,
      totalNodesWeight: 0,
      totalNativeTypeNodes: 0
    },
    toParse = [root],
    toParseJsonPathObj = [jsonPathRoot],
    paramHashData = [],
    current,
    currentJsonPathObj,
    nextJsonPathObj,
    parsedOption,
    tryDecode = function tryDecode(codecId, current, options) {
      var parsedItem;
      parsedItem = _codecs_js__WEBPACK_IMPORTED_MODULE_0__["default"][codecId].parse(current, options, _codecs_js__WEBPACK_IMPORTED_MODULE_0__["default"], parse);
      if (parsedItem) {
        Object.assign(current, parsedItem);
        current.type = codecId;
        return parsedItem;
      }
      return false;
    },
    alternatives;
  do {
    var _codecs$current$type;
    current = toParse.shift();
    currentJsonPathObj = toParseJsonPathObj.shift();
    output.totalNodes++;
    if (!current.type) {
      if (current.baseType) {
        tryDecode(current.baseType, current, options);
        delete current.baseType;
      } else {
        var _alternatives;
        alternatives = [];
        var _iterator = _createForOfIteratorHelper(codecList),
          _step;
        try {
          for (_iterator.s(); !(_step = _iterator.n()).done;) {
            var codecId = _step.value;
            if (_codecs_js__WEBPACK_IMPORTED_MODULE_0__["default"][codecId].variations) {
              var _iterator2 = _createForOfIteratorHelper(_codecs_js__WEBPACK_IMPORTED_MODULE_0__["default"][codecId].variations),
                _step2;
              try {
                for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {
                  var variation = _step2.value;
                  parsedOption = parse(current.data, options, {
                    baseType: codecId,
                    variation: variation
                  });
                  alternatives.push(parsedOption);
                }
              } catch (err) {
                _iterator2.e(err);
              } finally {
                _iterator2.f();
              }
            } else {
              parsedOption = parse(current.data, options, {
                baseType: codecId
              });
              //console.log('parse::parse:186: ', codecId, parsedOption.totalNodesWeight);
              alternatives.push(parsedOption);
            }
          }
        } catch (err) {
          _iterator.e(err);
        } finally {
          _iterator.f();
        }
        alternatives = alternatives.sort(function (a, b) {
          return b.totalNodesWeight - a.totalNodesWeight;
        });
        if ((_alternatives = alternatives) !== null && _alternatives !== void 0 && (_alternatives = _alternatives[0]) !== null && _alternatives !== void 0 && _alternatives.root) {
          var _alternatives2;
          Object.assign(current, (_alternatives2 = alternatives) === null || _alternatives2 === void 0 ? void 0 : _alternatives2[0].root);
        }
      }
    }
    if (!current.type) {
      current.type = is__WEBPACK_IMPORTED_MODULE_3___default().string(current.data) ? "String" : is__WEBPACK_IMPORTED_MODULE_3___default().number(current.data) ? "Number" : is__WEBPACK_IMPORTED_MODULE_3___default().bool(current.data) ? "Boolean" : current.data === null ? "Null" : current.data === undefined ? "undefined" : "undefined";
    }
    var isNative = !!nativeTypes.includes(current.type);
    if (isNative) output.totalNativeTypeNodes++;else if (_codecs_js__WEBPACK_IMPORTED_MODULE_0__["default"][current.type]) output.totalNodesWeight += ((_codecs$current$type = _codecs_js__WEBPACK_IMPORTED_MODULE_0__["default"][current.type]) === null || _codecs$current$type === void 0 ? void 0 : _codecs$current$type.weight) || 1;else if (current.type === "Prop") output.totalNodesWeight += 10;else if (current.weight) output.totalNodesWeight += current.weight;
    if (current.type === "Prop") {
      //output.totalNodesWeight += 10;
      current.childs[0].isPropValueOf = current.key;
    } else {}
    if (current.isPropValueOf) {
      paramHashData.push(current.isPropValueOf + ":" + current.type);
      currentJsonPathObj.key = current.isPropValueOf;
      if (isNative) {
        currentJsonPathObj.value = [nextJsonPathObj = {
          __path: currentJsonPathObj.__path + ".value[0]",
          __humanPath: currentJsonPathObj.__humanPath + "/" + current.isPropValueOf,
          __key: "value[0]",
          __type: current.type,
          value: !!nativeTypes.includes(current.type) ? current.data : undefined,
          isLeaf: !!nativeTypes.includes(current.type)
        }];
        current.__path = nextJsonPathObj.__path;
        current.__humanPath = nextJsonPathObj.__humanPath;
        current.pathKey = nextJsonPathObj.__key;
      } else {
        //if (!current.__humanKey)
        //	console.log('parse::parse:213: ', current);
        currentJsonPathObj.value = [_defineProperty({
          __path: currentJsonPathObj.__path + ".value[0]",
          __humanPath: currentJsonPathObj.__humanPath + "/" + current.isPropValueOf,
          __key: "value[0]",
          __type: current.type
        }, current.type, [nextJsonPathObj = {
          __path: currentJsonPathObj.__path + ".value[0]" + "." + current.type + "[0]",
          __humanPath: currentJsonPathObj.__humanPath + "/" + current.isPropValueOf + (current.__humanKey ? "/" + current.__humanKey : _codecs_js__WEBPACK_IMPORTED_MODULE_0__["default"][current.type] ? "/" + current.type : current.type.endsWith("Item") ? "/" + current.type + "[0]" : ""),
          __key: current.type + "[0]",
          __type: current.type
        }])];
        output.nodesByPath[currentJsonPathObj.__path + ".value[0]"] = current;
        current.__path = currentJsonPathObj.__path + ".value[0]";
        current.__humanPath = currentJsonPathObj.__humanPath + "/" + current.isPropValueOf;
        current.pathKey = nextJsonPathObj.__key;
      }
    } else if (!current.isPropValueOf) {
      currentJsonPathObj[current.type] = currentJsonPathObj[current.type] || [];
      currentJsonPathObj[current.type].push(nextJsonPathObj = {
        __path: currentJsonPathObj.__path + "." + current.type + "[" + currentJsonPathObj[current.type].length + "]",
        __humanPath: currentJsonPathObj.__humanPath + (current.__humanKey ? "/" + current.__humanKey : _codecs_js__WEBPACK_IMPORTED_MODULE_0__["default"][current.type] ? "/" + current.type : current.type.endsWith("Item") ? "/" + current.type + "[" + currentJsonPathObj[current.type].length + "]" : ""),
        __key: current.type + "[" + currentJsonPathObj[current.type].length + "]",
        __type: current.type,
        isLeaf: !!nativeTypes.includes(current.type)
      });
      current.__path = nextJsonPathObj.__path;
      current.__humanPath = nextJsonPathObj.__humanPath;
      current.pathKey = nextJsonPathObj.__key;
    }
    nextJsonPathObj.data = current.data;
    output.nodesByPath[nextJsonPathObj.__path] = current;
    output.nodesByType[current.type] = output.nodesByType[current.type] || [];
    output.nodesByType[current.type].push(current);
    if (current.childs) {
      toParse.unshift.apply(toParse, _toConsumableArray(current.childs));
      toParseJsonPathObj.unshift.apply(toParseJsonPathObj, _toConsumableArray(current.childs.map(function (v, i) {
        return nextJsonPathObj;
      })));
    }
  } while (toParse.length);
  output.structureHash = hash_js__WEBPACK_IMPORTED_MODULE_1___default().sha256().update(paramHashData.join(",")).digest('hex');
  return output;
}
function _stringify(data, options) {
  return stringifyAny(data.root || data, options);
}

function stringifyAny(data, options, forceCodecId) {
  var output = "",
    parsedItem;
  if (data.newValue) {
    output = data.newValue;
  } else if (nativeTypes.includes(data.type)) {
    output = data.data;
  } else if (_codecs_js__WEBPACK_IMPORTED_MODULE_0__["default"][forceCodecId || data.type]) {
    parsedItem = _codecs_js__WEBPACK_IMPORTED_MODULE_0__["default"][forceCodecId || data.type].stringify(data, options, stringifyAny);
    if (parsedItem) {
      output = parsedItem;
    }
  } else {
    console.log('Unknown what to do with ', data, forceCodecId);
    process.exit(1);
  }
  return output;
}
})();

module.exports = __webpack_exports__;
/******/ })()
;